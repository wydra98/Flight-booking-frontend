<mat-toolbar>
  Znajdź lot
</mat-toolbar>

<mat-card>
  <mat-card-header>
    <mat-card-title>{{title}}</mat-card-title>
    <mat-card-subtitle>{{subtitle}}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="form">
      <mat-form-field class="location">
        <mat-label>Skąd:</mat-label>
        <mat-select formControlName="sourceLocation" (selectionChange)="changed($event.value, 0)">
          <mat-option *ngFor="let type of types$ | async" [value]="type.text" [disabled]="!type.allowed">
            {{type.text}}</mat-option>
        </mat-select>

      </mat-form-field>

      <mat-form-field class="date">
        <mat-label>Data wylotu:</mat-label>
        <input matInput [matDatepicker]="departureDp"
               formControlName="departureDate" [min]="minDate"/>
        <mat-datepicker-toggle matSuffix [for]="departureDp"></mat-datepicker-toggle>
        <mat-datepicker #departureDp></mat-datepicker>
      </mat-form-field>
      <br>
      <mat-form-field class="location">
        <mat-label>Dokąd:</mat-label>
        <mat-select formControlName="destinationLocation" (selectionChange)="changed($event.value, 1)">
          <mat-option *ngFor="let type of types$ | async" [value]="type.text" [disabled]="!type.allowed">
            {{type.text}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="date">
        <mat-label>Data przylotu:</mat-label>
        <input matInput [matDatepicker]="arrivalDp" formControlName="arrivalDate" [min]="minDate"/>
        <mat-datepicker-toggle matSuffix [for]="arrivalDp"></mat-datepicker-toggle>
        <mat-datepicker #arrivalDp></mat-datepicker>
      </mat-form-field>

      <br>
      <mat-form-field class="change1">
        <mat-label>Pierwsza przesiadka:</mat-label>
        <mat-select formControlName="changeLocation1" (selectionChange)="changed($event.value, 2)">
          <mat-option *ngFor="let type of types$ | async" [value]="type.text" [disabled]="!type.allowed">
            {{type.text}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="change2">
        <mat-label>Druga przesiadka:</mat-label>
        <mat-select formControlName="changeLocation2" (selectionChange)="changed($event.value, 3)">
          <mat-option *ngFor="let type of types$ | async" [value]="type.text" [disabled]="!type.allowed">
            {{type.text}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <br>

      <mat-form-field class="passenger">
        <mat-label>Liczba pasażerów:</mat-label>
        <input matInput type="number" formControlName="passengersNumber"/>
      </mat-form-field>

      <mat-radio-group formControlName="checkBox">
        <mat-radio-button color="primary" value="bothWay" class="firstCheckbox">W dwie strony</mat-radio-button>
        <mat-radio-button color="primary" value="oneWay" class="secondCheckbox">W jedną stronę</mat-radio-button>
      </mat-radio-group>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button color="primary" [disabled]="form.invalid" (click) = "onSubmit()">Szukaj</button>
  </mat-card-actions>
</mat-card>
